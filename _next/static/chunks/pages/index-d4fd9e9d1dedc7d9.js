(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2123)}])},7376:function(e,a,t){"use strict";t.d(a,{y:function(){return m},Z:function(){return u}});var n=t(5893),r=(t(7294),t(8721)),i=t.n(r),o=t(5794),s=t.n(o),l=t(9008),c=t(1664),d="Fast Style Transfer for Arbitrary Styles",m="Fast Style Transfer for Arbitrary Styles Demo";function u(e){var a=e.children,t=e.home;return(0,n.jsxs)("div",{className:i().container,children:[(0,n.jsxs)(l.default,{children:[(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,n.jsx)("meta",{name:"description",content:"Learn how to build a personal website using Next.js"}),(0,n.jsx)("meta",{property:"og:image",content:"https://og-image.vercel.app/".concat(encodeURI(m),".png?theme=light&md=0&fontSize=75px&images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg")}),(0,n.jsx)("meta",{name:"og:title",content:m}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,n.jsx)("header",{className:i().header,children:t?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("h1",{className:s().heading2Xl,children:d})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.default,{href:"/",children:(0,n.jsx)("a",{children:(0,n.jsx)("img",{src:"/images/profile.jpg",className:s().borderCircle,height:108,width:108,alt:d})})}),(0,n.jsx)("h2",{className:s().headingLg,children:(0,n.jsx)(c.default,{href:"/",children:(0,n.jsx)("a",{className:s().colorInherit,children:d})})})]})}),(0,n.jsx)("main",{children:a}),!t&&(0,n.jsx)("div",{className:i().backToHome,children:(0,n.jsx)(c.default,{href:"/",children:(0,n.jsx)("a",{children:"\u2190 Back to home"})})})]})}},2123:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return B}});var n=t(5893),r=t(9008),i=t(7376),o=t(7294),s=t(6858),l=t(1215),c=t(7357),d=t(4725),m=t(8456),u=(0,l.Z)({progressBar:{display:"flex",justifyContent:"center"},modalTitle:{textAlign:"center"}});function h(e,a){var t=s.Xhn.fromPixels(e),n=s.iD$(255),r=t.div(n).expandDims(0),i=r;if(a){var o=Math.min(e.width,e.height),l=(e.width-o)/2,c=(e.height-o)/2,d=(e.width+o)/2,m=(e.height+o)/2,u=[[c/e.height,l/e.width,m/e.height,d/e.width]];i=s.BHj.cropAndResize(r,u,[0],[a,a])}return i}function g(){var e=u();return(0,n.jsx)(o.Fragment,{children:(0,n.jsx)(d.Z,{open:!0,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",sx:{alignContent:"center"},children:(0,n.jsxs)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,alignContent:"center"},children:[(0,n.jsx)("h2",{id:"unstyled-modal-title",className:e.modalTitle,children:"Loading Model"}),(0,n.jsx)("p",{className:e.progressBar,children:(0,n.jsx)(m.Z,{})})]})})})}var _,f,x=function(e){var a=e.children,t=(0,o.useState)(null),r=t[0],i=t[1];return(0,o.useEffect)((function(){console.log("Loading model!"),s.YLj("/style_transfer_tfjs/model.json").then((function(e){console.log("Finished loading model");i(e)}))}),[]),(0,n.jsxs)(n.Fragment,{children:[!r&&(0,n.jsx)(g,{}),r&&[a((function(e,a,t){s.lub((function(){var n=h(e),i=h(a,256);if(r){var o=r.execute([i,n]);s.Xhn.toPixels(s.L9e(o),t)}}))}))]]})},p=t(6886),j=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.ZP,{item:!0,xs:12,md:12,children:(0,n.jsxs)("p",{children:[(0,n.jsx)("b",{children:"References:"}),"[1] Golnaz Ghiasi, Honglak Lee, Manjunath Kudlur, Vincent Dumoulin, Jonathon Shlens. ",(0,n.jsx)("a",{href:"https://arxiv.org/abs/1705.06830",children:"Exploring the structure of a real-time, arbitrary neural artistic stylization network. "}),"Proceedings of the British Machine Vision Conference (BMVC), 2017."]})}),(0,n.jsx)(p.ZP,{item:!0,xs:12,md:12,children:(0,n.jsxs)("p",{children:[(0,n.jsx)("b",{children:"Blog Article:"}),(0,n.jsx)("a",{href:"https://spltech.co.uk/a-tutorial-on-how-to-convert-a-tensorflow-model-to-tensorflow-js/",children:"A tutorial on how to convert a Tensorflow model to Tensorflow.js"})]})})]})},v=t(3965),y=t(3321),b=t(7199),C=(0,l.Z)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48},cardMedia:{}}),w=function(e){var a=e.listKey,t=e.list,r=e.uploadImageLabel,i=e.setStateCallback,s=(0,o.useState)(t[0].url),l=s[0],c=s[1],d=C();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.Z,{id:"image",className:d.cardMedia,image:l,title:"Style Image",component:"img",onLoad:function(){i(l)}},"selectorImage"),(0,n.jsxs)(p.ZP,{container:!0,rowSpacing:1,alignItems:"flex-start",justifyContent:"space-evenly",p:2,children:[(0,n.jsx)(p.ZP,{item:!0,xs:12,md:6,children:(0,n.jsxs)("label",{htmlFor:a+"-upload-image",children:[(0,n.jsx)("input",{style:{display:"none"},id:a+"-upload-image",name:a+"-upload-image",type:"file",onChange:function(e){var t=e.target.files;if(FileReader&&t&&t.length){var n=new FileReader;n.onload=function(){console.log("key="+a);var e=document.getElementById(a);if(t&&null!=t[0]){var r=document.createElement("option");r.text=t[0].name,r.value=String(n.result),e.add(r,0),e.selectedIndex=0,e.dispatchEvent(new Event("change",{bubbles:!0}))}},n.readAsDataURL(t[0])}}}),(0,n.jsx)(y.Z,{variant:"outlined",component:"span",children:r})]})},"uploadMedia"),(0,n.jsx)(p.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(b.Z,{defaultValue:l,inputProps:{name:"image",id:a},onChange:function(e){var a=e.target.value;c(a)},children:t.map((function(e,a){return(0,n.jsx)("option",{value:e.url,children:e.name},"imageOption"+a)}))},"random1")},"imageList")]},"selector")]})},S=t(4073),k=function(e){return new Promise((function(a,t){var n=new Image;n.addEventListener("load",(function(){return a(n)})),n.addEventListener("error",(function(e){return t(e)})),n.src=e}))},Z=function(e){var a=e.styleImageUrl,t=e.updateCameraStateCallback,r=e.cameraState,i=e.doStyleTransferCallback,s=function(){!function(){var e=document.querySelector("#canvasContainer1"),a=e.getContext("2d"),t=document.querySelector("#canvasContainer2");if(t.getContext("2d"),a){a.drawImage(_,0,0,e.width,e.height);var n=a.getImageData(0,0,e.width,e.height);i(n,f,t)}else console.error("canvasCtx is null!!")}(),setTimeout((function(){null!=_.srcObject&&s()}),0)},c=(0,l.Z)({card:{height:"100%",display:"flex",flexDirection:"column"},canvasCamera:{aspectRatio:"16 / 9",width:"100%"}})();return(0,o.useEffect)((function(){r==D.start?(console.log("StyleImageUrl="+a),k(a).then((function(e){console.log("StyleImageUrl="+a+" loaded successfully="+e),f=e,function(){var e=document.querySelector("#canvasContainer1");e.getContext("2d"),document.querySelector("#canvasContainer2").getContext("2d"),(_=document.createElement("video")).autoplay=!0,_.onplay=s,_.width=e.width,_.height=e.height,console.log("video width: "+_.width),console.log("video height: "+_.height),navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{width:480,height:270}}).then((function(e){return console.log("Setting stream"),_.srcObject=e,t(D.started),_})).catch((function(e){console.log("Something went wrong!"+e)}))}()}))):r==D.started?(console.log("StyleImageUrl="+a),k(a).then((function(e){console.log("StyleImageUrl="+a+" loaded successfully="+e),f=e}))):r==D.stop&&function(){for(var e=_.srcObject.getTracks(),a=0;a<e.length;a++)e[a].stop();_.srcObject=null,t(D.stopped)}()})),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(p.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:12,sm:12,md:12},children:[(0,n.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,n.jsx)(S.Z,{className:c.card,children:(0,n.jsx)("canvas",{id:"canvasContainer1",className:c.canvasCamera})})},"canvasContainer1"),(0,n.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,n.jsx)(S.Z,{className:c.card,children:(0,n.jsx)("canvas",{id:"canvasContainer2",className:c.canvasCamera})})},"canvasContainer2")]})})},P=function(e){var a=e.styleImageUrl,t=e.imageToStyleUrl,r=e.doStyleTransferCallback,i=(0,l.Z)({card:{height:"100%",display:"flex",flexDirection:"column"},canvasHidden:{display:"none",width:"100%"},canvasPhoto:{width:"100%"}});(0,o.useEffect)((function(){var e=document.querySelector("#canvasContainer1"),n=document.querySelector("#canvasContainer2"),i=k(a),o=k(t);Promise.all([i,o]).then((function(a){var t=a[0];!function(e,a,t,n){var i=t.getContext("2d"),o=(n.getContext("2d"),e.height/e.width);if(t.height=t.width*o,console.log("New targetCanvas.height:"+t.height),null!=i){i.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height);var s=i.getImageData(0,0,t.width,t.height);r(s,a,n)}}(a[1],t,e,n)})).catch((function(e){return console.error(e)}))}));var s=i();return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(p.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:12,sm:12,md:12},children:[(0,n.jsx)("canvas",{id:"canvasContainer1",className:s.canvasHidden}),(0,n.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,n.jsx)(S.Z,{className:s.card,children:(0,n.jsx)("canvas",{id:"canvasContainer2",className:s.canvasPhoto})})},"canvasContainer2")]})})},I=t(9240),T=t(8288),F=t(7948),N=t(2699);function E(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function L(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){E(e,a,t[a])}))}return e}var D,M,U=(0,l.Z)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48},card:{height:"100%",display:"flex",flexDirection:"column"},cardGrid:{alignItems:"center",justifyContent:"center"}});function O(e){var a,t;e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));(t=a||(a={}))[t.video=0]="video",t[t.photo=1]="photo";var r=(0,o.useState)({camera:D.stopped,mode:"camera",styleImage:"/images/The_Great_Wave_off_Kanagawa.jpg",imageToStyle:"/images/images-to-style-examples/turtle.jpg"}),i=r[0],s=r[1],l=function(){s(L({},i,{camera:D.start}))},c=function(){s(L({},i,{camera:D.stop}))},d=function(e){s(L({},i,{camera:e}))},m=function(e){s(L({},i,{styleImage:e}))},u=function(e){s(L({},i,{imageToStyle:e}))},h=function(e,a){s(L({},i,{mode:e.target.value})),console.log("event.target.value:"+e.target.value)},g=[{url:"/images/The_Great_Wave_off_Kanagawa.jpg",name:"kanagawa_great_wave"},{url:"/images/Vassily_Kandinsky%2C_1913_-_Composition_7.jpg",name:"kandinsky_composition_7"},{url:"/images/Pillars_of_creation_2014_HST_WFC3-UVIS_full-res_denoised.jpg",name:"hubble_pillars_of_creation"},{url:"/images/1024px-Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg",name:"van_gogh_starry_night"},{url:"/images/JMW_Turner_-_Nantes_from_the_Ile_Feydeau.jpg",name:"turner_nantes"},{url:"/images/Edvard_Munch%2C_1893%2C_The_Scream%2C_oil%2C_tempera_and_pastel_on_cardboard%2C_91_x_73_cm%2C_National_Gallery_of_Norway.jpg",name:"munch_scream"},{url:"/images/Les_Demoiselles_d%27Avignon.jpg",name:"picasso_demoiselles_avignon"},{url:"/images/Pablo_Picasso%2C_1911-12%2C_Violon_%28Violin%29%2C_oil_on_canvas%2C_Kr%C3%B6ller-M%C3%BCller_Museum%2C_Otterlo%2C_Netherlands.jpg",name:"picasso_violin"},{url:"/images/Pablo_Picasso%2C_1911%2C_Still_Life_with_a_Bottle_of_Rum%2C_oil_on_canvas%2C_61.3_x_50.5_cm%2C_Metropolitan_Museum_of_Art%2C_New_York.jpg",name:"picasso_bottle_of_rum"},{url:"/images/Large_bonfire.jpg",name:"fire"},{url:"/images/Derkovits_Gyula_Woman_head_1922.jpg",name:"derkovits_woman_head"},{url:"/images/Untitled_%28Still_life%29_%281913%29_-_Amadeo_Souza-Cardoso_%281887-1918%29_%2817385824283%29.jpg",name:"amadeo_style_life"},{url:"/images/Derkovits_Gyula_Talig%C3%A1s_1920.jpg",name:"derkovtis_talig"},{url:"/images/Amadeo_de_Souza-Cardoso%2C_1915_-_Landscape_with_black_figure.jpg",name:"amadeo_cardoso"}],_=[{url:"/images/turtle.jpg",name:"turtle.jpg"}],f=U();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(x,{children:function(e){return(0,n.jsx)(F.Z,{className:f.cardGrid,children:(0,n.jsxs)(p.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:12,sm:12,md:12},children:[(0,n.jsx)(p.ZP,{item:!0,xs:12,sm:4,md:4,children:(0,n.jsxs)(S.Z,{className:f.card,children:[(0,n.jsx)(w,{listKey:"styleImages",list:g,uploadImageLabel:"Upload Style",setStateCallback:m}),"photo"==i.mode&&(0,n.jsx)(w,{listKey:"imagesToStyle",list:_,uploadImageLabel:"Upload Image",setStateCallback:u}),(0,n.jsxs)(p.ZP,{container:!0,rowSpacing:1,alignItems:"flex-start",justifyContent:"space-evenly",p:2,children:[(0,n.jsx)(p.ZP,{item:!0,xs:12,md:12,children:(0,n.jsxs)(T.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",defaultValue:"camera",onChange:h,children:[(0,n.jsx)(N.Z,{value:"camera",control:(0,n.jsx)(I.Z,{}),label:"Video"}),(0,n.jsx)(N.Z,{value:"photo",control:(0,n.jsx)(I.Z,{}),label:"Photos"})]})}),"camera"==i.mode&&(0,n.jsxs)(p.ZP,{item:!0,xs:12,md:6,children:[i.camera!=D.start&&i.camera!=D.started&&(0,n.jsx)(y.Z,{variant:"outlined",onClick:l,children:"Start Camera"}),(i.camera==D.start||i.camera==D.started)&&(0,n.jsx)(y.Z,{variant:"outlined",onClick:c,children:"Stop Camera"})]}),(0,n.jsx)(j,{})]})]})}),(0,n.jsxs)(p.ZP,{item:!0,xs:12,sm:6,md:8,children:["camera"==i.mode&&(0,n.jsx)(Z,{styleImageUrl:i.styleImage,updateCameraStateCallback:d,cameraState:i.camera,doStyleTransferCallback:e}),"photo"==i.mode&&(0,n.jsx)(P,{styleImageUrl:i.styleImage,imageToStyleUrl:i.imageToStyle,doStyleTransferCallback:e})]})]},"dasboard")},"container")}})})}function B(e){e.allPostsData;return(0,n.jsxs)(i.Z,{home:!0,children:[(0,n.jsx)(r.default,{children:(0,n.jsx)("title",{children:i.y})}),(0,n.jsx)(O,{})]})}(M=D||(D={}))[M.start=0]="start",M[M.started=1]="started",M[M.stop=2]="stop",M[M.stopped=3]="stopped"},8721:function(e){e.exports={container:"layout_container__fbLkO",header:"layout_header__kY0Lt",backToHome:"layout_backToHome__9sjx_"}},5794:function(e){e.exports={heading2Xl:"utils_heading2Xl___9fFP",headingXl:"utils_headingXl__u25Y2",headingLg:"utils_headingLg__5535D",headingMd:"utils_headingMd__gD1Ok",borderCircle:"utils_borderCircle__s2nTm",colorInherit:"utils_colorInherit__mSH_x",padding1px:"utils_padding1px__PWQKR",list:"utils_list__4Mu4l",listItem:"utils_listItem__s2m6i",lightText:"utils_lightText__eUzGY"}},914:function(){},5410:function(){},8628:function(){},5778:function(){},1601:function(){},7792:function(){},8963:function(){},5042:function(){}},function(e){e.O(0,[774,864,904,723,974,132,823,888,179],(function(){return a=5301,e(e.s=a);var a}));var a=e.O();_N_E=a}]);